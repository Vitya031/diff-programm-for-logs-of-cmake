# Diff programm for logs of cmake

Console application for viewing and comparing build protocols for projects written in C/C++.

## Начало работы

Для работы скрипта не нужно устанавливать дополнительных библиотек. В папке проекта предусмотрены 2 или более файлов .log для сравнения.

### Предпосылки

На вычислительной машине должна быть установлена операционная система Windows или nix подобная ОС, а также Python3.
Примечание: Запуск скрипта в стандартной командной строке Windows не рекомендуется, поскольку журналы сборок имеют большее количество символов, чем доступно в cmd.

## Описание разработанных методов
### Метод №1 ```function_name(filestoprocess)```
_Метод принимает на вход список файлов из команды ```python3 myscript.py ...``` и возвращает список текстов журналов сборки._

_Способ вызова:_ 
```
function_name(sys.argv[1:])
```
Методу передается одна из функций стандартной библиотеки, которая позволяет сделать срез аргументов (в данном случае имён файлов). Метод читает и собирает текст журналов сборки в список logs_list.

### Метод №2 ```function_pairs(logs_list)```
_Метод принимает на вход собранный список текстов из журналов сборки и возвращает результат функции ```function_compare(pair)```._

Внутри метода вызывается метод `combinations()` из библиотеки `itertools` для того, чтобы получить возможные неповторяющиеся кобминации файлов для сравнения. Также выводится отделительная черта "===...===", обозначающая начало сравнения файлов.  

### Метод №3 ```function_compare(pair)```
_Метод принимает на вход пару файлов и возвращает метод `ndiff()` библиотеки `difflib`._

Методу попарно передаются комбинации журналов сборки. Затем с помощью библиотеки `difflib` проводится сравнение журналов на различия. С помощью метода `color_diff(diff)` удаётся обозначить цвета и получить максимально похожий вывод на вывод программы _diff_ из nix-подобных ОС.

### Метод №4 ```color_diff(diff)```
_Метод принимает на вход результат анализа сходства журналов и обозначает соответствующие цвета для отсутствующих, добавленных и служебных строк._

Белый цвет - общая для двух файлов.

Зеленый цвет или символ "+" - строка, уникальная для последовательности 2.

Красный цвет или символ "-" - строка, уникальная для последовательности 1.

Голубой цвет - строка игнорируется за счет даты и путей.

Синий цвет - служебные строки.

Также с помощью составленных регулярных выражений в данном методе удается выделить и "игнорировать" строки с датой и path. Реглярное выражение для путей учитывает особенности ОС Windows и nix-подобных ОС.

В методе также объявлены переменные `date_comment, path_comment, other_diff_comment` для дальнешего вывода ифнормирующего сообщения.

### Метод №5 ```function_comment(date_comment, path_comment, other_diff_comment)```
_Метод прнимает на вход переменные и возвращает информирующее сообщение._

В методе прописаны условия для вывода сообщения о степени различия файлов.

### Дополнение
Необходимо рассмотреть использование многопоточности. Вполне реализуемо.

## Deployment

---

## Built With

---

## Contributing

Contributing is not considered.

## Versioning

Version control is not used.

## Authors

* **Рыженко Виктор** - *Full work*

## License

This project is not licensed

## Acknowledgments

Thanks everyone!

